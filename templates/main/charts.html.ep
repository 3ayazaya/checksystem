% layout 'default';
% title app->config->{cs}{ctf}{name};

<div class="container">
  <div id="scores" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
  <div id="flags" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
</div>

<script>
$(function () {
  $.getJSON("<%= url_for('charts_data') %>", function(data) {
    new Highcharts.Chart({
      chart: {
        zoomType: 'x',
        renderTo: 'scores'
      },
      title: { text: 'Scoreboard' },
      xAxis: { categories: data.rounds },
      yAxis: { title: { text: 'Scores' } },
      tooltip: { valueSuffix: '' },
      legend: {
          layout: 'vertical',
          align: 'right'
      },
      series: data.scores
    }, function(chart) {
      //chart.xAxis[0].setExtremes(data.rounds[data.rounds.length - 180], data.rounds[data.rounds.length - 1]);
      //chart.showResetZoom();
    });

    new Highcharts.Chart({
      chart: {
        zoomType: 'x',
        renderTo: 'flags'
      },
      title: { text: 'Flags' },
      xAxis: { categories: data.rounds },
      yAxis: { title: { text: 'Flags' } },
      tooltip: { valueSuffix: '' },
      legend: {
          layout: 'vertical',
          align: 'right'
      },
      series: data.flags
    }, function(chart) {
      //chart.xAxis[0].setExtremes(data.rounds[data.rounds.length - 180], data.rounds[data.rounds.length - 1]);
      //chart.showResetZoom();
    });
  });
});
</script>
